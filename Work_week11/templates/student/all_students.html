{% extends 'layout.html' %}

{% block title %}
{{title}}
{% endblock %}

{% block content %}
<div class="container">
  <h1>{{title}}</h1>
  <hr>
  <div class="row">
    <div class="col"></div>
    <div class="col">
      <a href="{{url_for('new_student')}}" class="btn btn-outline-primary float-end">
        <i class="bi bi-person-fill-add"></i>
        Add New Student
      </a>
    </div>
  </div>
  <br>
  <div class="card">
    <div class="card-header text-center bg-success text-light">
      <h5>{{title}}</h5>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr class="text-center">
              <th>#</th>
              <th>Student ID</th>
              <th>Student Name</th>
              <th>Mobile Phone</th>
              <th>Department</th>
              <th>Student Image</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% if students %}
            {% for s in students %}
            <tr class="text-center">
              <td>{{s.id}}</td>
              <td>{{s.sid}}</td>
              <td>{{s.sname}}</td>
              <td>{{s.smobile}}</td>
              <td>{{s.department.dname}}</td>
              <td><a href="#"><img width="70px" height="70px" src="{{url_for('static',filename='img/'+s.simage)}}"
                    class="img-thumbnail" alt="{{s.simage}}"></a></td>
              <td>
                <a href="{{url_for('update_student',id=s.id)}}" class="btn btn-outline-success btn-sm">
                  <i class="bi bi-person-fill-check"></i>
                </a>
                <a onclick="return confirm('Are you sure to Delete Student?')"
                  href="{{url_for('delete_student',id=s.id)}}" class="btn btn-outline-danger btn-sm">
                  <i class="bi bi-person-fill-x"></i>
                </a>
              </td>
            </tr>
            {% endfor %}

            {% else %}
            <tr>
              <td colspan="7" class="text-center">
                No Data!
              </td>
            </tr>
            {% endif %}

          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
{% endblock %}