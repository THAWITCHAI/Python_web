{% extends 'layout.html' %}

{% block title %}
{{title}}
{% endblock %}

{% block content %}
<div class="container">
  <h1>{{title}}</h1>
  <hr>
  <div class="row">
    <div class="col"></div>
    <div class="col">
      <a href="{{ url_for('new_department') }}" class="btn btn-outline-primary float-end">
        <i class="bi bi-file-plus-fill"></i>
        Add New Department
      </a>
    </div>
  </div>
  <br>
  <div class="card">
    <div class="card-header bg-success text-light">
      <h5><i class="bi bi-cart-check"></i> {{title}}</h5>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>#</th>
              <th>Department Name</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% if departments %}
            {% for dep in departments %}
            <tr>
              <td>{{dep.id}}</td>
              <td>{{dep.dname}}</td>
              <td>
                <a href="{{ url_for('update_department', id=dep.id) }}" class="btn btn-outline-success btn-sm">
                  <i class="bi bi-pencil-square"></i>
                </a>
                <a onclick="return confirm('Ok?')" href="{{ url_for('delete_department', id=dep.id) }}"
                  class="btn btn-outline-danger btn-sm">
                  <i class="bi bi-file-earmark-x-fill"></i>
                </a>
              </td>
            </tr>
            {% endfor %}

            {% else %}
            <tr>
              <td colspan="3">
                No Data!
              </td>
            </tr>
            {% endif %}

          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
{% endblock %}